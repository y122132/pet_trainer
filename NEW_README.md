# ğŸ¶ í«íŠ¸ë ˆì´ë„ˆ (Pet Trainer): AI ê¸°ë°˜ ë°˜ë ¤ë™ë¬¼ ìœ¡ì„± ë° ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼

> **"ìš°ë¦¬ì§‘ ê°•ì•„ì§€, AIë¡œ ë˜‘ë˜‘í•˜ê²Œ í‚¤ìš°ê³  ê²Œì„ì²˜ëŸ¼ ì¦ê¸´ë‹¤!"**  
> ì‹¤ì‹œê°„ **AI ë¹„ì „(Vision)** ê¸°ìˆ ë¡œ ë°˜ë ¤ë™ë¬¼ì˜ í–‰ë™ì„ ì¸ì‹í•´ í›ˆë ¨í•˜ê³ , ì„±ì¥í•œ ìºë¦­í„°ë¡œ ë‹¤ë¥¸ ìœ ì €ì™€ **ë°°í‹€** ë° **ì†Œí†µ**í•˜ëŠ” ì˜¬ì¸ì›(All-in-One) í”Œë«í¼ì…ë‹ˆë‹¤.

---

## ğŸŒŸ í”„ë¡œì íŠ¸ ì†Œê°œ (Overview)

**í«íŠ¸ë ˆì´ë„ˆ**ëŠ” ë‹¨ìˆœí•œ í–‰ë™ ì¸ì‹ ì•±ì„ ë„˜ì–´, **'í›ˆë ¨(Training) -> ìœ¡ì„±(RPG) -> ì»¤ë®¤ë‹ˆí‹°(Social)'**ë¡œ ì´ì–´ì§€ëŠ” ìˆœí™˜ êµ¬ì¡°ë¥¼ ê°€ì§„ ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜(Gamification) í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

*   **AI Vision**: YOLOv11(ì„œë²„) ë° TFLite(ì—£ì§€)ë¥¼ í™œìš©í•œ í•˜ì´ë¸Œë¦¬ë“œ í¬ì¦ˆ ì¸ì‹.
*   **AI Persona**: í›ˆë ¨ ê²°ê³¼ì— ë”°ë¼ ìºë¦­í„°ê°€ ì‚´ì•„ìˆëŠ” ë“¯í•œ ëŒ€ì‚¬ë¥¼ ê±´ë„¤ëŠ” LLM ê¸°ë°˜ í˜ë¥´ì†Œë‚˜.
*   **Social & Battle**: ë¯¸ë‹ˆí™ˆí”¼(ë°©ëª…ë¡/ì¼ê¸°)ì™€ ì‹¤ì‹œê°„ 1:1 PVP ë°°í‹€ ì‹œìŠ¤í…œ.

---

## ğŸš€ í•µì‹¬ ê¸°ëŠ¥ (Key Features)

### 1. í•˜ì´ë¸Œë¦¬ë“œ AI í›ˆë ¨ (Hybrid AI Training) ğŸ§ 
ì„œë²„ ë¹„ìš© ì ˆê°ê³¼ ë°˜ì‘ ì†ë„ ìµœì í™”ë¥¼ ìœ„í•´ **ë‘ ê°€ì§€ ëª¨ë“œ**ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
*   **ì„œë²„ ëª¨ë“œ (Server Mode):** ê³ ì„±ëŠ¥ GPU ì„œë²„(YOLOv11)ì—ì„œ ì •ë°€í•œ ë¶„ì„ ìˆ˜í–‰ (ë³µì¡í•œ í–‰ë™).
*   **ì—£ì§€ ëª¨ë“œ (Edge AI Mode):** ì¸í„°ë„· ì—†ì´ ê¸°ê¸° ë‚´(On-Device TFLite)ì—ì„œ 0.1ì´ˆ ë‚´ ì¦‰ê° ë°˜ì‘ (ë‹¨ìˆœ í–‰ë™).
*   **ë² ìŠ¤íŠ¸ ìƒ· (Best Shot):** í›ˆë ¨ ì„±ê³µ ìˆœê°„ì„ AIê°€ ìë™ìœ¼ë¡œ í¬ì°©í•˜ì—¬ ì‚¬ì§„ì²©ì— ì €ì¥.

### 2. ì‹¤ì‹œê°„ PVP ë°°í‹€ (Real-time Battle) âš”ï¸
ë‚´ í«ì˜ ìŠ¤íƒ¯(ê·¼ë ¥, ì§€ëŠ¥, ë¯¼ì²©)ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ë¥¸ ìœ ì €ì˜ í«ê³¼ ëŒ€ê²°í•©ë‹ˆë‹¤.
*   **ì´ˆëŒ€ ì‹œìŠ¤í…œ:** ì±„íŒ…ì°½ì—ì„œ ë°”ë¡œ 'ëŒ€ê²° ì‹ ì²­'ì„ ë³´ë‚´ê³  ìˆ˜ë½í•˜ë©´ ì „íˆ¬ í™”ë©´ìœ¼ë¡œ ì „í™˜.
*   **í„´ì œ ì „ëµ:** ê³µê²©/ë°©ì–´/ìŠ¤í‚¬ ì„ íƒì— ë”°ë¥¸ ì‹¬ë¦¬ì „ ë° í™”ë ¤í•œ ìŠ¤í‚¬ ì´í™íŠ¸.
*   **ì†ì„± ìƒì„±:** ë¬¼ > ë¶ˆ > í’€ ë“± í¬ì¼“ëª¬ ìŠ¤íƒ€ì¼ì˜ ìƒì„± ë° ìƒíƒœì´ìƒ(ê¸°ì ˆ, ì¶œí˜ˆ) ì‹œìŠ¤í…œ.

### 3. ë¯¸ë‹ˆí™ˆí”¼ & ì»¤ë®¤ë‹ˆí‹° (Mini-Homepage) ğŸ 
ì‹¸ì´ì›”ë“œ ê°ì„±ì˜ **ë§ˆì´ë£¸/ë¯¸ë‹ˆí™ˆí”¼** ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.
*   **ë‹¤ì´ì–´ë¦¬:** í›ˆë ¨ ì¤‘ ì°íŒ 'ë² ìŠ¤íŠ¸ ìƒ·'ì„ ê³µìœ í•˜ê³  ì¢‹ì•„ìš”/ëŒ“ê¸€ ì†Œí†µ.
*   **ë°©ëª…ë¡:** ì¹œêµ¬ì˜ ë¯¸ë‹ˆí™ˆí”¼ì— ë†€ëŸ¬ê°€ì„œ ì•ˆë¶€ ê¸€ ë‚¨ê¸°ê¸°.
*   **í« ìŠ¤íƒ¯ ê´€ë¦¬:** ìœ¡ê°í˜• ì°¨íŠ¸(Radar Chart)ë¡œ ì„±ì¥ í˜„í™© í•œëˆˆì— í™•ì¸.

### 4. AI ê¸°ìˆ  ìœµí•© ì „ëµ (AI Synergy Strategy) ğŸ”—
**YOLO (Vision)**ì™€ **LangGraph (LLM)**ì˜ ê²°í•©ìœ¼ë¡œ ìœ ì €ì˜ í–‰ë™ì„ ì†Œì…œ ì½˜í…ì¸ ë¡œ ìë™ ë³€í™˜í•©ë‹ˆë‹¤.
*   **ìë™ ì¶”ì–µ ìƒì„±:** í›ˆë ¨ ì¤‘ ë² ìŠ¤íŠ¸ ìƒ·(YOLO)ê³¼ ìƒí™©ì— ë§ëŠ” ê°ì„± ë©˜íŠ¸(LLM)ê°€ ê²°í•©ë˜ì–´ ë¯¸ë‹ˆí™ˆí”¼ ë‹¤ì´ì–´ë¦¬ì— ìë™ ì—…ë¡œë“œë©ë‹ˆë‹¤.
*   **ì†Œì…œ ë¦¬í…ì…˜ ë£¨í”„:** ìœ ì €ëŠ” ë‹¨ìˆœíˆ ì•±ì„ ì¦ê¸°ê¸°ë§Œ í•´ë„ ë°˜ë ¤ë™ë¬¼ê³¼ì˜ ì¶”ì–µì´ ìŒ“ì´ë©°, ì´ ê³ í’ˆì§ˆ ë°ì´í„°ëŠ” ì¹œêµ¬ë“¤ì—ê²Œ ìë‘ê±°ë¦¬ê°€ ë˜ì–´ ì•± ì¬ë°©ë¬¸(Retention)ì„ ìœ ë„í•©ë‹ˆë‹¤.

### 5. ì‹¤ì‹œê°„ ì±„íŒ… (Live Chat) ğŸ’¬
*   ì›¹ì†Œì¼“(WebSocket) ê¸°ë°˜ì˜ ëŠê¹€ ì—†ëŠ” ì‹¤ì‹œê°„ ëŒ€í™”.
*   ë°°í‹€ ì´ˆëŒ€ì¥ ë°œì†¡ ë° ì‹œìŠ¤í…œ ì•Œë¦¼ í†µí•©.

### 6. ê´€ë¦¬ì í˜ì´ì§€ (Admin Dashboard) ğŸ› ï¸
*   `SQLAdmin`ì„ í™œìš©í•œ ë°±ì—”ë“œ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ.
*   ìœ ì € ê´€ë¦¬, ì‹ ê³  ì²˜ë¦¬, ê²Œì„ ë°ì´í„°(ì•„ì´í…œ/ìŠ¤í‚¬) ì‹¤ì‹œê°„ ìˆ˜ì • ê°€ëŠ¥.

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

### Frontend (Mobile App)
| Category | Stack | Description |
| --- | --- | --- |
| **Framework** | **Flutter** | Cross-platform (iOS/Android) ê°œë°œ |
| **State Mgt** | **Provider** | íš¨ìœ¨ì ì¸ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë° ì˜ì¡´ì„± ì£¼ì… |
| **AI (Edge)** | **TFLite (`tflite_flutter`)** | ì˜¨ë””ë°”ì´ìŠ¤ ì¶”ë¡ ì„ ìœ„í•œ ê²½ëŸ‰í™” ëª¨ë¸ íƒ‘ì¬ |
| **Network** | **WebSocket (`web_socket_channel`)** | ì‹¤ì‹œê°„ ì´ë¯¸ì§€ ìŠ¤íŠ¸ë¦¬ë° ë° ì±„íŒ… êµ¬í˜„ |
| **Chart** | `fl_chart` | ë ˆì´ë” ì°¨íŠ¸ ë“± ë°ì´í„° ì‹œê°í™” |
| **Media** | `camera`, `video_player` | ì‹¤ì‹œê°„ ì¹´ë©”ë¼ ì œì–´ ë° í”„ë¦¬ë·° |

### Backend (Server & AI)
| Category | Stack | Description |
| --- | --- | --- |
| **Framework** | **FastAPI** | ê³ ì„±ëŠ¥ ë¹„ë™ê¸°(Async) Python ì›¹ í”„ë ˆì„ì›Œí¬ |
| **Vision AI** | **Ultralytics YOLOv11** | ìµœì‹  ê°ì²´ íƒì§€ ë° í¬ì¦ˆ ì¶”ì • ëª¨ë¸ |
| **LLM AI** | **LangChain / LangGraph** | ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ëŒ€í™”(í˜ë¥´ì†Œë‚˜) ìƒì„± |
| **Database** | **PostgreSQL** | ê´€ê³„í˜• ë°ì´í„° ì €ì¥ (ìœ ì €, ê²Œì„ ë°ì´í„°) |
| **ORM** | **SQLAlchemy (Async)** | ë¹„ë™ê¸° DB ì²˜ë¦¬ë¡œ ë™ì‹œì„± í™•ë³´ |
| **Cache** | **Redis** | ì‹¤ì‹œê°„ ì „íˆ¬ ìƒíƒœ ì €ì¥ ë° ë¹ ë¥¸ ì¡°íšŒ |
| **Admin** | **SQLAdmin** | ê°„í¸í•œ ë°±ì—”ë“œ ë°ì´í„° ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤ |

### Infrastructure & DevOps
*   **Docker & Docker Compose:** ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ ì¼ê´€ëœ ë°°í¬ í™˜ê²½ êµ¬ì„± (Web + DB + Redis).
*   **AWS / Cloud (Planned):** í´ë¼ìš°ë“œ ë°°í¬ ì˜ˆì •.

---

## ğŸ› ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ (Architecture)

### 1. Hybrid Vision Pipeline
```mermaid
graph TD
    User([User]) -->|Camera Frame| App[Flutter App]
    
    subgraph "Edge Mode (Low Latency)"
    App -->|Local Inference| TFLite[TFLite Model]
    TFLite -->|Keypoints| LocalLogic[Local Logic]
    LocalLogic -->|Success/Fail| App
    end
    
    subgraph "Server Mode (High Precision)"
    App -->|WebSocket| Backend[FastAPI Server]
    Backend -->|Frame| YOLO[YOLOv11]
    YOLO -->|Analysis| ServerLogic[Game Logic]
    ServerLogic -->|AI Message| LLM[GPT-4o / LangChain]
    LLM -->|Response| App
    end
```

### 2. Battle System Flow
```mermaid
sequenceDiagram
    participant A as User A
    participant S as Server (Redis)
    participant B as User B
    
    A->>S: Battle Invite (Chat)
    S->>B: Show Invite Card
    B->>S: Accept Invite
    S->>A: Battle Start!
    S->>B: Battle Start!
    
    loop Turn Battle
        A->>S: Select Skill (Fireball)
        B->>S: Select Defend
        S->>S: Calculate Damage (Stats + RNG)
        S->>A: Result (HP -10)
        S->>B: Result (HP -10)
    end
```

---

## ğŸ¨ UI/UX Highlights

*   **ì§ê´€ì ì¸ í”¼ë“œë°±**: í›ˆë ¨ ì„±ê³µ ì‹œ í­ì£½ íš¨ê³¼ ë° ì¦‰ê°ì ì¸ ì˜¤ë””ì˜¤ í”¼ë“œë°± ì œê³µ.
*   **ê°ì„±ì ì¸ ë””ìì¸**: ë‘¥ê¸€ê³  ê·€ì—¬ìš´ í°íŠ¸(Jua/Gasoek)ì™€ íŒŒìŠ¤í…” í†¤ ìƒ‰ê°ìœ¼ë¡œ ì¹œê·¼ê° í˜•ì„±.
*   **Seamless Interaction**: ì±„íŒ… ì¤‘ ì´ˆëŒ€ì¥ì„ ëˆ„ë¥´ë©´ ì¦‰ì‹œ ë°°í‹€ ë¡œë¹„ë¡œ ì´ë™í•˜ëŠ” ëŠê¹€ ì—†ëŠ” ê²½í—˜(Navigation).

---

## ğŸ“‚ ë””ë ‰í† ë¦¬ êµ¬ì¡° (Directory Structure)

```bash
pet_trainer/
â”œâ”€â”€ backend/                  # Python FastAPI Backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ ai_core/          # AI Logic (Vision, LLM)
â”‚   â”‚   â”œâ”€â”€ game/             # Battle Logic & Assets
â”‚   â”‚   â”œâ”€â”€ api/              # Restful API Endpoints
â”‚   â”‚   â””â”€â”€ sockets/          # WebSocket Handlers (Chat, Training, Battle)
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ frontend/                 # Flutter Frontend
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ screens/          # UI Pages (MyRoom, Battle, Chat, Camera)
â”‚   â”‚   â”œâ”€â”€ providers/        # State Management (ChatProvider, TrainingProvider)
â”‚   â”‚   â”œâ”€â”€ widgets/          # Reusable Widgets
â”‚   â”‚   â””â”€â”€ services/         # API & Socket Services
â”‚   â””â”€â”€ assets/               # Models(.tflite), Images, Fonts
â”‚
â””â”€â”€ edge_ai/                  # AI Model Files & Conversion Scripts
```

---

## ğŸ“ ì„¤ì¹˜ ë° ì‹¤í–‰ (Getting Started)

### Prerequisites
*   Docker & Docker Compose
*   Flutter SDK (3.0+)
*   Python 3.10+

### 1. Backend Launch
```bash
cd backend
# .env íŒŒì¼ ì„¤ì • í›„
docker-compose up --build
```

### 2. Frontend Launch
```bash
cd frontend
flutter pub get
flutter run
```

---

## ğŸ‘¨â€ğŸ’» License & Credits
*   **Project Lead**: Yang (Full Stack & AI)
*   Build with â¤ï¸ using Flutter & FastAPI.
