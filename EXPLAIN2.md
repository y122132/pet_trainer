# 🏰 Pet Trainer 비밀 백과사전 (EXPLAIN2.md)

앞서 식당(Frontend/Backend)의 구조를 익히셨다면, 이제 **식당을 운영하는 숨겨진 마법과 장비들**에 대해 알아볼 차례입니다.
이 문서까지 읽으면 프로젝트의 **A to Z**를 모두 알게 됩니다!

---

## 1. 🐳 도커 (Docker) = 움직이는 하울의 성 (Moving Castle)
*   **파일**: `docker-compose.yml`, `Dockerfile`
*   **비유**:
    *   내 컴퓨터에서 요리가 잘 되는데, 친구 컴퓨터에서는 가스레인지가 없어서 안 된다고요?
    *   **도커**는 주방, 조리 도구, 재료를 통째로 담은 **"움직이는 성"**입니다.
    *   이 성만 있으면 어느 땅(컴퓨터/서버)에 착륙하든 똑같이 요리를 시작할 수 있습니다.
*   **하는 일**:
    *   `web`: 우리 식당 주방 (FastAPI 서버)
    *   `db`: 식재료 창고 (PostgreSQL)
    *   `redis`: 메모 게시판 (Redis)
    *   이 3가지를 버튼 하나(`docker-compose up`)로 동시에 실행시킵니다.

## 2. ⚡ 레디스 (Redis) = 주방 퀵 메모판 (Sticky Note Board)
*   **파일**: `docker-compose.yml` (redis 서비스)
*   **비유**:
    *   냉장고(DB)는 튼튼하지만 문 열고 닫는 데 시간이 걸립니다.
    *   **레디스**는 요리사 눈앞에 있는 **포스트잇 게시판**입니다.
    *   "방금 주문한 전투 데이터"처럼 금방 쓰고 버릴 정보는 여기 적어둡니다. 엄청 빠르거든요!
*   **하는 일**: 실시간 전투 상태 저장, 빠른 데이터 조회.

## 3. 🔑 환경변수 (.env) = 금고 열쇠 보관함 (Secret Key Box)
*   **파일**: `.env` (보통 숨겨져 있음)
*   **비유**:
    *   식당 금고 비밀번호나 창고 열쇠를 손님에게 보여줄 순 없죠?
    *   **환경변수**는 비밀번호(DB 암호, AI API 키)를 적어두는 **비밀 쪽지**입니다.
    *   코드는 공개해도 되지만, 이 쪽지는 절대 남에게 보여주면 안 됩니다!

## 4. 🛒 의존성 (Dependencies) = 장보기 리스트 (Grocery List)
*   **파일**:
    *   `backend/requirements.txt` (서버용)
    *   `frontend/pubspec.yaml` (앱용)
*   **비유**:
    *   요리를 하려면 무엇을 사 와야 할지 적힌 **쇼핑 목록**입니다.
    *   `fastapi`: 요리사 고용하기
    *   `ultralytics`: 특급 AI 셰프 초빙하기
    *   `flutter_bloc`: 상태 관리 도구 사기
    *   이 리스트가 없으면 요리를 시작조차 할 수 없습니다.

## 5. 📜 펫 행동 설정 (Config) = 반려동물 도감 (Pet Dictionary)
*   **파일**: `backend/app/core/pet_behavior_config.py`
*   **비유**:
    *   AI 셰프가 동물을 알아볼 때 참고하는 **백과사전**입니다.
    *   "강아지(Dog)는 공(Ball)을 좋아해", "고양이(Cat)는 밥그릇(Bowl)을 보면 냠냠해" 같은 규칙이 적혀 있습니다.
*   **활용**: 새로운 동물(예: 앵무새)을 추가하고 싶으면 이 도감에 페이지를 하나 더 쓰면 됩니다.

## 6. 🐙 깃 (Git) = 레시피 역사 기록 (Recipe History)
*   **비유**:
    *   "앗, 소금을 너무 넣어서 맛이 이상해! 어제로 되돌려!"
    *   **깃**은 우리가 코드를 짤 때마다 저장해두는 **타임머신**입니다.
    *   언제든 과거의 상태로 돌아가거나, 친구가 쓴 레시피와 내 레시피를 합칠 수 있습니다.

---

## 🛠️ 문제 해결 (Troubleshooting) - 주방에 불이 났어요! 🔥

#### Q1. "도커가 실행이 안 돼요!"
*   **진단**: 혹시 컴퓨터에 이미 `PostgreSQL`이나 다른 프로그램이 `5432` 포트(문)를 쓰고 있나요?
*   **해결**: 문을 막고 있는 프로그램을 끄거나, 도커 설정에서 포트 번호를 바꿔보세요.

#### Q2. "AI가 동물을 못 찾아요!"
*   **진단**: `configs.py`의 `MIN_DISTANCE`나 `CONFIDENCE`(자신감) 수치가 너무 높은가 봅니다.
*   **해결**: "조금 덜 확실해도 맞다고 쳐줘"라고 수치를 낮춰보세요.

#### Q3. "앱 화면이 깨져요!"
*   **진단**: `RenderFlex overflow`... 주방장은 접시가 10cm인 줄 알았는데 요리가 20cm네요.
*   **해결**: `Expanded`나 `Flexible` 같은 마법 접시를 써서 요리 크기에 맞춰 접시가 늘어나게 하세요.

---

이제 여러분은 **Pet Trainer**라는 거대한 성의 주인이 되었습니다.
도커 성을 움직이고, 레디스 메모판을 활용하며, AI 셰프와 함께 멋진 요리를 만들어보세요! 🏰✨
